appId: com.gci.desktopadmin
productName: GCI Admin

directories:
  output: dist
  buildResources: build

files:
  - "**/*"

win:
  target:
    - target: nsis
      arch:
        - x64

nsis:
  oneClick: true
  perMachine: false
  allowToChangeInstallationDirectory: false
  deleteAppDataOnUninstall: false

extraResources:
  # Bundle the Django project
  - from: ../../
    to: gci-backend
    filter:
      - "app/**"
      - "config/**"
      - "database/**"
      - "desktop_admin/**"
      - "manage.py"
      - "pyproject.toml"
      - "poetry.lock"

  # Bundle the Python virtualenv in CI
  - from: python-win
    to: python

publish: null